### Reader-Writer Lock이 필요한 이유?  
여러 스레드에서 접근하는 어떤 값 X에 대해 이 X를 read하는 사람들과 write하는 사람들이 나누어져 있다고 해보자. 이때 오류를 막기 위해서는 단순히 X에 접근할 때 평범한 lock을 걸어주면 된다. 그러나 만약 X를 read하는 게 99.99%의 경우이고 write는 어쩌다 한 번 한다면 Read 할때마다 lock을 잡는 것은 굉장히 비효율적이다.  
이러한 상황에서 우리는 Reader-writer lock을 쓸 수 있다.  
즉 Read를 하는 경우와 Write를 하는 경우를 분리해서 처리하되, 이때 락은 하나만 사용해서 이를 처리하는 방법이다.  
락 하나에 저장된 정보를 반으로 쪼개 Write 부와 Read부를 나눠두어 사용한다.  
ex) lockinfo를 int32로 나타내어 16비트,16비트로 나누어 구현  
Write부는 현재 Write할 권한이 있는, 달리 말해 소유권을 가진 스레드의 ID를 기재하고,  
Read부는 현재 몇 개의 스레드에서 X를 Read하고 있는지를 기재한다.  

자세한 원리 및 코드는 C++ IOCP 23강 참고하는 것을 권장한다.  
해당 강의에 핵심적인 내용이 다수 있으므로 전체 내용을 반드시 참고할 것.  

구현 시 다음과 같은 정책이 보편적으로 사용된다.  
Write lock을 가진 스레드가 다시 Write lock을 잡는 것 허용  
Write lock을 가진 스레드가 Read lock을 잡는 것도 허용  
단, Read lock을 잡은 스레드가 Write lock을 잡는 것은 방지!  
